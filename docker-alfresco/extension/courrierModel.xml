<?xml version="1.0" encoding="UTF-8"?>

<!-- Definition of new Model -->
<model name="siged:modelcourrier" xmlns="http://www.alfresco.org/model/dictionary/1.0">

<description>Modele Courrier SIGED</description>
<author>AliaSource</author>
<version>1.0</version>

<imports>
   <import uri="http://www.alfresco.org/model/dictionary/1.0" prefix="d"/>
   <import uri="http://www.alfresco.org/model/content/1.0" prefix="cm"/>
</imports>

<namespaces>
   <namespace uri="siged.model" prefix="siged"/>
</namespaces>
 
<constraints>
   <constraint name="siged:allowedStatut" type="LIST">
      <parameter name="allowedValues">
         <list>
            <value>0</value>
            <value>1</value>
            <value>2</value>
            <value>3</value>
         </list>
      </parameter>
   </constraint>
</constraints>
 
<types>
   <type name="siged:courrier">
      <title>Courrier SIGED</title>
      <parent>cm:content</parent>
   <properties>
      <!-- Numero -->
      <property name="siged:numero">
         <type>d:text</type>
      </property>
      <!-- Emetteur 1 -->
      <property name="siged:emetteur1">
         <type>d:text</type>
      </property> 
      <!-- Emetteur 2 -->
      <property name="siged:emetteur2">
         <type>d:text</type>
      </property> 
      <!-- Ref. Expediteur du courrier -->
      <property name="siged:ref_expediteur_du_courrier">
         <type>d:text</type>
      </property>
      <!-- Date de reception -->
      <property name="siged:date_reception">
         <type>d:date</type>
      </property>
      <!-- Intermediaire -->
      <property name="siged:intermediaire">
         <type>d:text</type>
      </property> 
      <!-- Date de transmission -->
      <property name="siged:date_transmission">
         <type>d:date</type>
      </property>
      <!-- Objet -->
      <property name="siged:objet">
         <type>d:text</type>
      </property>
      <!-- Infos complementaire -->
      <property name="siged:infos_complementaires">
         <type>d:text</type>
      </property>
      <!-- 
      Statut 
      0 - "En instance",
      1 - "Sans reponse",
      2 - "Traite"
      3 - "Repondu"
      -->
      <property name="siged:statut">
         <type>d:int</type>
         <mandatory>true</mandatory>
         <default>0</default>
         <constraints>
            <constraint ref="siged:allowedStatut" />
         </constraints>
      </property> 
      <!-- Bureau -->
      <property name="siged:bureau_id">
         <type>d:text</type>
      </property>
      <property name="siged:bureau">
         <type>d:text</type>
      </property>
      <!-- Redacteur -->
      <property name="siged:redacteur_mail">
         <type>d:text</type>
      </property>
      <property name="siged:redacteur">
         <type>d:text</type>
      </property>
      <!-- RA -->
      <property name="siged:ra">
         <type>d:boolean</type>
      </property>
      <!-- RCE -->
      <property name="siged:rce_id">
         <type>d:text</type>
      </property>
      <!-- Date RA -->
      <property name="siged:date_ra">
         <type>d:date</type>
      </property>
      <!-- Destinateir RA -->
      <property name="siged:emetteur_ra">
         <type>d:text</type>
      </property>
      <!-- Nom du DF -->
      <property name="siged:nom_df">
         <type>d:text</type>
      </property>
   </properties>

   <mandatory-aspects>
      <aspect>cm:versionable</aspect>
   </mandatory-aspects>

</type>
 
</types>
</model>
